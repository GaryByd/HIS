10:18:42:884  INFO 23220 --- [main] c.l.his_service.HisServiceApplication    : Starting HisServiceApplication using Java 17.0.11 on luo with PID 23220 (A:\Desktop\workspace\HIS\his_service\target\classes started by 22407 in A:\Desktop\workspace\HIS)
10:18:42:890 DEBUG 23220 --- [main] c.l.his_service.HisServiceApplication    : Running with Spring Boot v2.7.12, Spring v5.3.27
10:18:42:891  INFO 23220 --- [main] c.l.his_service.HisServiceApplication    : The following 1 profile is active: "dev"
10:18:45:278 DEBUG 23220 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskAiDoctorClient.class]
10:18:45:279 DEBUG 23220 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskModelAnalyzeClient.class]
10:18:45:294 DEBUG 23220 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskUploadClient.class]
10:18:46:020  INFO 23220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
10:18:46:023  INFO 23220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
10:18:46:109  INFO 23220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
10:18:46:624  INFO 23220 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=15115e6d-eb61-304d-ae7c-b74e3e436bbc
10:18:49:240  INFO 23220 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
10:18:49:281  INFO 23220 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
10:18:49:282  INFO 23220 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
10:18:49:550  INFO 23220 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
10:18:49:550  INFO 23220 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6554 ms
10:18:50:417  INFO 23220 --- [main] org.redisson.Version                     : Redisson 3.17.7
10:18:51:187  INFO 23220 --- [redisson-netty-2-9] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 111.230.32.147/111.230.32.147:9631
10:18:51:889  INFO 23220 --- [redisson-netty-2-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 111.230.32.147/111.230.32.147:9631
10:18:52:592 DEBUG 23220 --- [main] c.l.h.filter.RefreshTokenFilter          : Filter 'refreshTokenFilter' configured for use
10:18:54:067  INFO 23220 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'flask-service' URL not provided. Will try picking an instance via load-balancing.
10:18:54:837  INFO 23220 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'ai-doctor-service' URL not provided. Will try picking an instance via load-balancing.
10:18:57:670  WARN 23220 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
10:18:57:677  INFO 23220 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
10:18:57:805  INFO 23220 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
10:18:57:934  INFO 23220 --- [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
10:18:57:934  INFO 23220 --- [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
10:19:00:691  INFO 23220 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
10:19:00:693  INFO 23220 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
10:19:00:693  INFO 23220 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
10:19:00:694  INFO 23220 --- [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
10:19:00:784  INFO 23220 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP his-service 10.21.93.70:8848 register finished
10:19:01:159  INFO 23220 --- [main] c.l.his_service.HisServiceApplication    : Started HisServiceApplication in 19.678 seconds (JVM running for 21.082)
10:19:01:488  INFO 23220 --- [RMI TCP Connection(6)-10.21.93.70] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
10:19:01:531  INFO 23220 --- [RMI TCP Connection(8)-10.21.93.70] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
10:19:01:532  INFO 23220 --- [RMI TCP Connection(8)-10.21.93.70] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
10:19:01:534  INFO 23220 --- [RMI TCP Connection(8)-10.21.93.70] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
10:19:02:367  INFO 23220 --- [RMI TCP Connection(6)-10.21.93.70] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
10:41:16:120  WARN 23220 --- [http-nio-8080-exec-4] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [146] milliseconds.
10:41:16:977  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@88592f4 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:009  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2c2cecf3 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:039  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@81ac9b0 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:069  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@494cdc88 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:100  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@14150819 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:133  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5f15251c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:165  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@19c2007 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:199  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2e9b1420 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:229  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@12f2942a (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:265  WARN 23220 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@64b97ead (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
10:41:17:277 DEBUG 23220 --- [http-nio-8080-exec-4] c.l.h.m.PatientMapper.selectIdByOpenId   : ==>  Preparing: select id, open_id, phone, name, verified, hospital_pid from patient where open_id = ?
10:41:17:334 DEBUG 23220 --- [http-nio-8080-exec-4] c.l.h.m.PatientMapper.selectIdByOpenId   : ==> Parameters: owhoa7fITbB2gA1N4dxwWmjN8Xsw(String)
10:41:17:439 DEBUG 23220 --- [http-nio-8080-exec-4] c.l.h.m.PatientMapper.selectIdByOpenId   : <==      Total: 1
10:41:35:928 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
10:41:35:928 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 68575
10:41:35:928 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19592874eaf
10:41:35:929 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
10:41:35:929 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
10:41:35:929 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
10:41:35:929 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (68575-byte body)
10:41:38:445 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- ERROR ConnectException: Failed to connect to /10.21.93.70:8000 (2515ms)
10:41:38:447 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] java.net.ConnectException: Failed to connect to /10.21.93.70:8000
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95)
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy2/jdk.proxy2.$Proxy129.uploadFile(Unknown Source)
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40)
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 80 more

10:41:38:448 DEBUG 23220 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END ERROR
10:41:38:479 ERROR 23220 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.RetryableException: Failed to connect to /10.21.93.70:8000 executing POST http://flask-service/upload] with root cause

java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.3.jar:na]
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180) ~[feign-okhttp-11.10.jar:na]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy129.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

10:45:46:999 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
10:45:47:002 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 68575
10:45:47:002 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=195928b2375
10:45:47:003 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
10:45:47:003 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
10:45:47:003 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
10:45:47:003 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (68575-byte body)
10:45:49:039 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- ERROR ConnectException: Failed to connect to /10.21.93.70:5000 (2035ms)
10:45:49:056 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] java.net.ConnectException: Failed to connect to /10.21.93.70:5000
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95)
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy2/jdk.proxy2.$Proxy129.uploadFile(Unknown Source)
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40)
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 80 more

10:45:49:064 DEBUG 23220 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END ERROR
10:45:49:067 ERROR 23220 --- [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.RetryableException: Failed to connect to /10.21.93.70:5000 executing POST http://flask-service/upload] with root cause

java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.3.jar:na]
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180) ~[feign-okhttp-11.10.jar:na]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy129.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

11:10:30:627  WARN 23220 --- [Thread-15] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
11:10:30:650  WARN 23220 --- [Thread-15] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
11:10:30:654  WARN 23220 --- [Thread-18] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
11:10:30:670  WARN 23220 --- [Thread-18] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
11:10:30:914  INFO 23220 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
11:10:30:959  INFO 23220 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
11:10:31:005  INFO 23220 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
11:10:31:039  INFO 23220 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
11:10:39:444  INFO 26916 --- [main] c.l.his_service.HisServiceApplication    : Starting HisServiceApplication using Java 17.0.11 on luo with PID 26916 (A:\Desktop\workspace\HIS\his_service\target\classes started by 22407 in A:\Desktop\workspace\HIS)
11:10:39:446 DEBUG 26916 --- [main] c.l.his_service.HisServiceApplication    : Running with Spring Boot v2.7.12, Spring v5.3.27
11:10:39:447  INFO 26916 --- [main] c.l.his_service.HisServiceApplication    : The following 1 profile is active: "dev"
11:10:40:527 DEBUG 26916 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskAiDoctorClient.class]
11:10:40:531 DEBUG 26916 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskModelAnalyzeClient.class]
11:10:40:535 DEBUG 26916 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskUploadClient.class]
11:10:40:956  INFO 26916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
11:10:40:959  INFO 26916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:10:41:029  INFO 26916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
11:10:41:333  INFO 26916 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1bd65d18-cf79-37b5-847a-b41514e0c705
11:10:42:922  INFO 26916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
11:10:42:945  INFO 26916 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
11:10:42:946  INFO 26916 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
11:10:43:170  INFO 26916 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
11:10:43:170  INFO 26916 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3682 ms
11:10:43:753  INFO 26916 --- [main] org.redisson.Version                     : Redisson 3.17.7
11:10:44:205  INFO 26916 --- [redisson-netty-2-9] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 111.230.32.147/111.230.32.147:9631
11:10:44:902  INFO 26916 --- [redisson-netty-2-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 111.230.32.147/111.230.32.147:9631
11:10:45:379 DEBUG 26916 --- [main] c.l.h.filter.RefreshTokenFilter          : Filter 'refreshTokenFilter' configured for use
11:10:46:215  INFO 26916 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'flask-service' URL not provided. Will try picking an instance via load-balancing.
11:10:46:581  INFO 26916 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'ai-doctor-service' URL not provided. Will try picking an instance via load-balancing.
11:10:48:056  WARN 26916 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
11:10:48:060  INFO 26916 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
11:10:48:152  INFO 26916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
11:10:48:222  INFO 26916 --- [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
11:10:48:222  INFO 26916 --- [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
11:10:49:901  INFO 26916 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
11:10:49:902  INFO 26916 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
11:10:49:902  INFO 26916 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
11:10:49:903  INFO 26916 --- [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
11:10:49:989  INFO 26916 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP his-service 10.21.93.70:8848 register finished
11:10:50:240  INFO 26916 --- [main] c.l.his_service.HisServiceApplication    : Started HisServiceApplication in 11.651 seconds (JVM running for 12.617)
11:10:50:427  INFO 26916 --- [RMI TCP Connection(2)-10.21.93.70] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
11:10:50:456  INFO 26916 --- [RMI TCP Connection(3)-10.21.93.70] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
11:10:50:456  INFO 26916 --- [RMI TCP Connection(3)-10.21.93.70] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
11:10:50:459  INFO 26916 --- [RMI TCP Connection(3)-10.21.93.70] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
11:10:51:080  INFO 26916 --- [RMI TCP Connection(2)-10.21.93.70] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
11:13:57:483 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
11:13:57:483 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 68575
11:13:57:483 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19592a4eee1
11:13:57:483 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
11:13:57:483 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
11:13:57:484 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
11:13:57:484 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (68575-byte body)
11:14:03:517 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (6033ms)
11:14:03:517 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
11:14:03:517 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 346
11:14:03:517 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
11:14:03:517 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 03:14:03 GMT
11:14:03:517 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
11:14:03:517 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
11:14:03:519 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {
  "result": {
    "disease_labels": [
      "\u767d\u5185\u969c",
      "\u7cd6\u5c3f\u75c5\u89c6\u7f51\u819c\u75c5\u53d8",
      "\u9752\u5149\u773c",
      "\u6b63\u5e38"
    ],
    "pred_probs": [
      0.0037983159883583414,
      0.9446467026522749,
      0.008967842139558011,
      0.04258713921980877
    ]
  },
  "status": "success"
}

11:14:03:520 DEBUG 26916 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (346-byte body)
11:18:53:243 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
11:18:53:243 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 68575
11:18:53:243 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19592a9723a
11:18:53:244 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
11:18:53:244 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
11:18:53:244 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
11:18:53:244 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (68575-byte body)
11:18:58:621 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 500 INTERNAL SERVER ERROR (5377ms)
11:18:58:622 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
11:18:58:622 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 11915
11:18:58:622 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: text/html; charset=utf-8
11:18:58:622 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 03:18:58 GMT
11:18:58:622 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
11:18:58:622 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
11:18:58:623 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" href="?__debugger__=yes&amp;cmd=resource&amp;f=style.css">
    <link rel="shortcut icon"
        href="?__debugger__=yes&amp;cmd=resource&amp;f=console.png">
    <script src="?__debugger__=yes&amp;cmd=resource&amp;f=debugger.js"></script>
    <script>
      var CONSOLE_MODE = false,
          EVALEX = false,
          EVALEX_TRUSTED = false,
          SECRET = "wJ03facZqDhStskjJYjW";
    </script>
  </head>
  <body style="background-color: #fff">
    <div class="debugger">
<h1>TypeError</h1>
<div class="detail">
  <p class="errormsg">TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</p>
</div>
<h2 class="traceback">Traceback <em>(most recent call last)</em></h2>
<div class="traceback">
  <h3></h3>
  <ul><li><div class="frame" id="frame-1642374347936">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1536</em>,
      in <code class="function">__call__</code></h4>
  <div class="source "><pre class="line before"><span class="ws">    </span>) -&gt; cabc.Iterable[bytes]:</pre>
<pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;The WSGI server calls the Flask application object as the</pre>
<pre class="line before"><span class="ws">        </span>WSGI application. This calls :meth:`wsgi_app`, which can be</pre>
<pre class="line before"><span class="ws">        </span>wrapped to apply middleware.</pre>
<pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;</pre>
<pre class="line current"><span class="ws">        </span>return self.wsgi_app(environ, start_response)</pre></div>
</div>

<li><div class="frame" id="frame-1642375307536">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1514</em>,
      in <code class="function">wsgi_app</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>try:</pre>
<pre class="line before"><span class="ws">                </span>ctx.push()</pre>
<pre class="line before"><span class="ws">                </span>response = self.full_dispatch_request()</pre>
<pre class="line before"><span class="ws">            </span>except Exception as e:</pre>
<pre class="line before"><span class="ws">                </span>error = e</pre>
<pre class="line current"><span class="ws">                </span>response = self.handle_exception(e)</pre>
<pre class="line after"><span class="ws">            </span>except:  # noqa: B001</pre>
<pre class="line after"><span class="ws">                </span>error = sys.exc_info()[1]</pre>
<pre class="line after"><span class="ws">                </span>raise</pre>
<pre class="line after"><span class="ws">            </span>return response(environ, start_response)</pre>
<pre class="line after"><span class="ws">        </span>finally:</pre></div>
</div>

<li><div class="frame" id="frame-1642375307648">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1511</em>,
      in <code class="function">wsgi_app</code></h4>
  <div class="source "><pre class="line before"><span class="ws">        </span>ctx = self.request_context(environ)</pre>
<pre class="line before"><span class="ws">        </span>error: BaseException | None = None</pre>
<pre class="line before"><span class="ws">        </span>try:</pre>
<pre class="line before"><span class="ws">            </span>try:</pre>
<pre class="line before"><span class="ws">                </span>ctx.push()</pre>
<pre class="line current"><span class="ws">                </span>response = self.full_dispatch_request()</pre>
<pre class="line after"><span class="ws">            </span>except Exception as e:</pre>
<pre class="line after"><span class="ws">                </span>error = e</pre>
<pre class="line after"><span class="ws">                </span>response = self.handle_exception(e)</pre>
<pre class="line after"><span class="ws">            </span>except:  # noqa: B001</pre>
<pre class="line after"><span class="ws">                </span>error = sys.exc_info()[1]</pre></div>
</div>

<li><div class="frame" id="frame-1642375307760">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">919</em>,
      in <code class="function">full_dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>
<pre class="line before"><span class="ws">            </span>rv = self.preprocess_request()</pre>
<pre class="line before"><span class="ws">            </span>if rv is None:</pre>
<pre class="line before"><span class="ws">                </span>rv = self.dispatch_request()</pre>
<pre class="line before"><span class="ws">        </span>except Exception as e:</pre>
<pre class="line current"><span class="ws">            </span>rv = self.handle_user_exception(e)</pre>
<pre class="line after"><span class="ws">        </span>return self.finalize_request(rv)</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def finalize_request(</pre>
<pre class="line after"><span class="ws">        </span>self,</pre>
<pre class="line after"><span class="ws">        </span>rv: ft.ResponseReturnValue | HTTPException,</pre></div>
</div>

<li><div class="frame" id="frame-1642375307872">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">917</em>,
      in <code class="function">full_dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws"></span> </pre>
<pre class="line before"><span class="ws">        </span>try:</pre>
<pre class="line before"><span class="ws">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>
<pre class="line before"><span class="ws">            </span>rv = self.preprocess_request()</pre>
<pre class="line before"><span class="ws">            </span>if rv is None:</pre>
<pre class="line current"><span class="ws">                </span>rv = self.dispatch_request()</pre>
<pre class="line after"><span class="ws">        </span>except Exception as e:</pre>
<pre class="line after"><span class="ws">            </span>rv = self.handle_user_exception(e)</pre>
<pre class="line after"><span class="ws">        </span>return self.finalize_request(rv)</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def finalize_request(</pre></div>
</div>

<li><div class="frame" id="frame-1642375307984">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">902</em>,
      in <code class="function">dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>and req.method == &#34;OPTIONS&#34;</pre>
<pre class="line before"><span class="ws">        </span>):</pre>
<pre class="line before"><span class="ws">            </span>return self.make_default_options_response()</pre>
<pre class="line before"><span class="ws">        </span># otherwise dispatch to the handler for that endpoint</pre>
<pre class="line before"><span class="ws">        </span>view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]</pre>
<pre class="line current"><span class="ws">        </span>return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def full_dispatch_request(self) -&gt; Response:</pre>
<pre class="line after"><span class="ws">        </span>&#34;&#34;&#34;Dispatches the request and on top of that performs request</pre>
<pre class="line after"><span class="ws">        </span>pre and postprocessing as well as HTTP exception catching and</pre>
<pre class="line after"><span class="ws">        </span>error handling.</pre></div>
</div>
</ul>
  <blockquote>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</blockquote>
</div>

<div class="plain">
    <p>
      This is the Copy/Paste friendly version of the traceback.
    </p>
    <textarea cols="50" rows="10" name="code" readonly>Traceback (most recent call last):
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1514, in wsgi_app
    response = self.handle_exception(e)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</textarea>
</div>
<div class="explanation">
  The debugger caught an exception in your WSGI application.  You can now
  look at the traceback which led to the error.  <span class="nojavascript">
  If you enable JavaScript you can also use additional features such as code
  execution (if the evalex feature is enabled), automatic pasting of the
  exceptions and much more.</span>
</div>
      <div class="footer">
        Brought to you by <strong class="arthur">DON'T PANIC</strong>, your
        friendly Werkzeug powered traceback interpreter.
      </div>
    </div>

    <div class="pin-prompt">
      <div class="inner">
        <h3>Console Locked</h3>
        <p>
          The console is locked and needs to be unlocked by entering the PIN.
          You can find the PIN printed out on the standard output of your
          shell that runs the server.
        <form>
          <p>PIN:
            <input type=text name=pin size=14>
            <input type=submit name=btn value="Confirm Pin">
        </form>
      </div>
    </div>
  </body>
</html>

<!--

Traceback (most recent call last):
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
TypeError: construct_response() missing 1 required positional argument: 'result'


-->

11:18:58:623 DEBUG 26916 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (11915-byte body)
11:18:58:673 ERROR 26916 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [<!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" hre... (11915 bytes)]] with root cause

feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [<!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" hre... (11915 bytes)]
	at feign.FeignException.serverErrorStatus(FeignException.java:250) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

11:19:17:239 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
11:19:17:240 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 68575
11:19:17:240 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19592a9cff7
11:19:17:240 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
11:19:17:240 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
11:19:17:240 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
11:19:17:240 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (68575-byte body)
11:19:17:270 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 500 INTERNAL SERVER ERROR (29ms)
11:19:17:271 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
11:19:17:271 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 11915
11:19:17:271 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: text/html; charset=utf-8
11:19:17:271 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 03:19:17 GMT
11:19:17:271 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
11:19:17:271 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
11:19:17:272 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" href="?__debugger__=yes&amp;cmd=resource&amp;f=style.css">
    <link rel="shortcut icon"
        href="?__debugger__=yes&amp;cmd=resource&amp;f=console.png">
    <script src="?__debugger__=yes&amp;cmd=resource&amp;f=debugger.js"></script>
    <script>
      var CONSOLE_MODE = false,
          EVALEX = false,
          EVALEX_TRUSTED = false,
          SECRET = "wJ03facZqDhStskjJYjW";
    </script>
  </head>
  <body style="background-color: #fff">
    <div class="debugger">
<h1>TypeError</h1>
<div class="detail">
  <p class="errormsg">TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</p>
</div>
<h2 class="traceback">Traceback <em>(most recent call last)</em></h2>
<div class="traceback">
  <h3></h3>
  <ul><li><div class="frame" id="frame-1642374345584">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1536</em>,
      in <code class="function">__call__</code></h4>
  <div class="source "><pre class="line before"><span class="ws">    </span>) -&gt; cabc.Iterable[bytes]:</pre>
<pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;The WSGI server calls the Flask application object as the</pre>
<pre class="line before"><span class="ws">        </span>WSGI application. This calls :meth:`wsgi_app`, which can be</pre>
<pre class="line before"><span class="ws">        </span>wrapped to apply middleware.</pre>
<pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;</pre>
<pre class="line current"><span class="ws">        </span>return self.wsgi_app(environ, start_response)</pre></div>
</div>

<li><div class="frame" id="frame-1642374348384">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1514</em>,
      in <code class="function">wsgi_app</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>try:</pre>
<pre class="line before"><span class="ws">                </span>ctx.push()</pre>
<pre class="line before"><span class="ws">                </span>response = self.full_dispatch_request()</pre>
<pre class="line before"><span class="ws">            </span>except Exception as e:</pre>
<pre class="line before"><span class="ws">                </span>error = e</pre>
<pre class="line current"><span class="ws">                </span>response = self.handle_exception(e)</pre>
<pre class="line after"><span class="ws">            </span>except:  # noqa: B001</pre>
<pre class="line after"><span class="ws">                </span>error = sys.exc_info()[1]</pre>
<pre class="line after"><span class="ws">                </span>raise</pre>
<pre class="line after"><span class="ws">            </span>return response(environ, start_response)</pre>
<pre class="line after"><span class="ws">        </span>finally:</pre></div>
</div>

<li><div class="frame" id="frame-1642375193856">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1511</em>,
      in <code class="function">wsgi_app</code></h4>
  <div class="source "><pre class="line before"><span class="ws">        </span>ctx = self.request_context(environ)</pre>
<pre class="line before"><span class="ws">        </span>error: BaseException | None = None</pre>
<pre class="line before"><span class="ws">        </span>try:</pre>
<pre class="line before"><span class="ws">            </span>try:</pre>
<pre class="line before"><span class="ws">                </span>ctx.push()</pre>
<pre class="line current"><span class="ws">                </span>response = self.full_dispatch_request()</pre>
<pre class="line after"><span class="ws">            </span>except Exception as e:</pre>
<pre class="line after"><span class="ws">                </span>error = e</pre>
<pre class="line after"><span class="ws">                </span>response = self.handle_exception(e)</pre>
<pre class="line after"><span class="ws">            </span>except:  # noqa: B001</pre>
<pre class="line after"><span class="ws">                </span>error = sys.exc_info()[1]</pre></div>
</div>

<li><div class="frame" id="frame-1642375185344">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">919</em>,
      in <code class="function">full_dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>
<pre class="line before"><span class="ws">            </span>rv = self.preprocess_request()</pre>
<pre class="line before"><span class="ws">            </span>if rv is None:</pre>
<pre class="line before"><span class="ws">                </span>rv = self.dispatch_request()</pre>
<pre class="line before"><span class="ws">        </span>except Exception as e:</pre>
<pre class="line current"><span class="ws">            </span>rv = self.handle_user_exception(e)</pre>
<pre class="line after"><span class="ws">        </span>return self.finalize_request(rv)</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def finalize_request(</pre>
<pre class="line after"><span class="ws">        </span>self,</pre>
<pre class="line after"><span class="ws">        </span>rv: ft.ResponseReturnValue | HTTPException,</pre></div>
</div>

<li><div class="frame" id="frame-1642375184448">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">917</em>,
      in <code class="function">full_dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws"></span> </pre>
<pre class="line before"><span class="ws">        </span>try:</pre>
<pre class="line before"><span class="ws">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>
<pre class="line before"><span class="ws">            </span>rv = self.preprocess_request()</pre>
<pre class="line before"><span class="ws">            </span>if rv is None:</pre>
<pre class="line current"><span class="ws">                </span>rv = self.dispatch_request()</pre>
<pre class="line after"><span class="ws">        </span>except Exception as e:</pre>
<pre class="line after"><span class="ws">            </span>rv = self.handle_user_exception(e)</pre>
<pre class="line after"><span class="ws">        </span>return self.finalize_request(rv)</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def finalize_request(</pre></div>
</div>

<li><div class="frame" id="frame-1642375186800">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">902</em>,
      in <code class="function">dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>and req.method == &#34;OPTIONS&#34;</pre>
<pre class="line before"><span class="ws">        </span>):</pre>
<pre class="line before"><span class="ws">            </span>return self.make_default_options_response()</pre>
<pre class="line before"><span class="ws">        </span># otherwise dispatch to the handler for that endpoint</pre>
<pre class="line before"><span class="ws">        </span>view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]</pre>
<pre class="line current"><span class="ws">        </span>return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def full_dispatch_request(self) -&gt; Response:</pre>
<pre class="line after"><span class="ws">        </span>&#34;&#34;&#34;Dispatches the request and on top of that performs request</pre>
<pre class="line after"><span class="ws">        </span>pre and postprocessing as well as HTTP exception catching and</pre>
<pre class="line after"><span class="ws">        </span>error handling.</pre></div>
</div>
</ul>
  <blockquote>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</blockquote>
</div>

<div class="plain">
    <p>
      This is the Copy/Paste friendly version of the traceback.
    </p>
    <textarea cols="50" rows="10" name="code" readonly>Traceback (most recent call last):
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1514, in wsgi_app
    response = self.handle_exception(e)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</textarea>
</div>
<div class="explanation">
  The debugger caught an exception in your WSGI application.  You can now
  look at the traceback which led to the error.  <span class="nojavascript">
  If you enable JavaScript you can also use additional features such as code
  execution (if the evalex feature is enabled), automatic pasting of the
  exceptions and much more.</span>
</div>
      <div class="footer">
        Brought to you by <strong class="arthur">DON'T PANIC</strong>, your
        friendly Werkzeug powered traceback interpreter.
      </div>
    </div>

    <div class="pin-prompt">
      <div class="inner">
        <h3>Console Locked</h3>
        <p>
          The console is locked and needs to be unlocked by entering the PIN.
          You can find the PIN printed out on the standard output of your
          shell that runs the server.
        <form>
          <p>PIN:
            <input type=text name=pin size=14>
            <input type=submit name=btn value="Confirm Pin">
        </form>
      </div>
    </div>
  </body>
</html>

<!--

Traceback (most recent call last):
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
TypeError: construct_response() missing 1 required positional argument: 'result'


-->

11:19:17:272 DEBUG 26916 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (11915-byte body)
11:19:17:276 ERROR 26916 --- [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [<!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" hre... (11915 bytes)]] with root cause

feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [<!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" hre... (11915 bytes)]
	at feign.FeignException.serverErrorStatus(FeignException.java:250) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

14:27:46:531  WARN 26916 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h7m25s197ms964µs800ns).
14:29:26:605 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
14:29:26:606 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 68575
14:29:26:606 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=1959357e7c9
14:29:26:606 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
14:29:26:606 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
14:29:26:606 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
14:29:26:606 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (68575-byte body)
14:29:26:692 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 500 INTERNAL SERVER ERROR (85ms)
14:29:26:692 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
14:29:26:692 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 11915
14:29:26:692 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: text/html; charset=utf-8
14:29:26:692 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 06:29:26 GMT
14:29:26:692 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
14:29:26:692 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
14:29:26:694 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" href="?__debugger__=yes&amp;cmd=resource&amp;f=style.css">
    <link rel="shortcut icon"
        href="?__debugger__=yes&amp;cmd=resource&amp;f=console.png">
    <script src="?__debugger__=yes&amp;cmd=resource&amp;f=debugger.js"></script>
    <script>
      var CONSOLE_MODE = false,
          EVALEX = false,
          EVALEX_TRUSTED = false,
          SECRET = "wJ03facZqDhStskjJYjW";
    </script>
  </head>
  <body style="background-color: #fff">
    <div class="debugger">
<h1>TypeError</h1>
<div class="detail">
  <p class="errormsg">TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</p>
</div>
<h2 class="traceback">Traceback <em>(most recent call last)</em></h2>
<div class="traceback">
  <h3></h3>
  <ul><li><div class="frame" id="frame-1642375193968">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1536</em>,
      in <code class="function">__call__</code></h4>
  <div class="source "><pre class="line before"><span class="ws">    </span>) -&gt; cabc.Iterable[bytes]:</pre>
<pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;The WSGI server calls the Flask application object as the</pre>
<pre class="line before"><span class="ws">        </span>WSGI application. This calls :meth:`wsgi_app`, which can be</pre>
<pre class="line before"><span class="ws">        </span>wrapped to apply middleware.</pre>
<pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;</pre>
<pre class="line current"><span class="ws">        </span>return self.wsgi_app(environ, start_response)</pre></div>
</div>

<li><div class="frame" id="frame-1642375186352">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1514</em>,
      in <code class="function">wsgi_app</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>try:</pre>
<pre class="line before"><span class="ws">                </span>ctx.push()</pre>
<pre class="line before"><span class="ws">                </span>response = self.full_dispatch_request()</pre>
<pre class="line before"><span class="ws">            </span>except Exception as e:</pre>
<pre class="line before"><span class="ws">                </span>error = e</pre>
<pre class="line current"><span class="ws">                </span>response = self.handle_exception(e)</pre>
<pre class="line after"><span class="ws">            </span>except:  # noqa: B001</pre>
<pre class="line after"><span class="ws">                </span>error = sys.exc_info()[1]</pre>
<pre class="line after"><span class="ws">                </span>raise</pre>
<pre class="line after"><span class="ws">            </span>return response(environ, start_response)</pre>
<pre class="line after"><span class="ws">        </span>finally:</pre></div>
</div>

<li><div class="frame" id="frame-1642375185456">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">1511</em>,
      in <code class="function">wsgi_app</code></h4>
  <div class="source "><pre class="line before"><span class="ws">        </span>ctx = self.request_context(environ)</pre>
<pre class="line before"><span class="ws">        </span>error: BaseException | None = None</pre>
<pre class="line before"><span class="ws">        </span>try:</pre>
<pre class="line before"><span class="ws">            </span>try:</pre>
<pre class="line before"><span class="ws">                </span>ctx.push()</pre>
<pre class="line current"><span class="ws">                </span>response = self.full_dispatch_request()</pre>
<pre class="line after"><span class="ws">            </span>except Exception as e:</pre>
<pre class="line after"><span class="ws">                </span>error = e</pre>
<pre class="line after"><span class="ws">                </span>response = self.handle_exception(e)</pre>
<pre class="line after"><span class="ws">            </span>except:  # noqa: B001</pre>
<pre class="line after"><span class="ws">                </span>error = sys.exc_info()[1]</pre></div>
</div>

<li><div class="frame" id="frame-1642375186464">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">919</em>,
      in <code class="function">full_dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>
<pre class="line before"><span class="ws">            </span>rv = self.preprocess_request()</pre>
<pre class="line before"><span class="ws">            </span>if rv is None:</pre>
<pre class="line before"><span class="ws">                </span>rv = self.dispatch_request()</pre>
<pre class="line before"><span class="ws">        </span>except Exception as e:</pre>
<pre class="line current"><span class="ws">            </span>rv = self.handle_user_exception(e)</pre>
<pre class="line after"><span class="ws">        </span>return self.finalize_request(rv)</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def finalize_request(</pre>
<pre class="line after"><span class="ws">        </span>self,</pre>
<pre class="line after"><span class="ws">        </span>rv: ft.ResponseReturnValue | HTTPException,</pre></div>
</div>

<li><div class="frame" id="frame-1642375186688">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">917</em>,
      in <code class="function">full_dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws"></span> </pre>
<pre class="line before"><span class="ws">        </span>try:</pre>
<pre class="line before"><span class="ws">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>
<pre class="line before"><span class="ws">            </span>rv = self.preprocess_request()</pre>
<pre class="line before"><span class="ws">            </span>if rv is None:</pre>
<pre class="line current"><span class="ws">                </span>rv = self.dispatch_request()</pre>
<pre class="line after"><span class="ws">        </span>except Exception as e:</pre>
<pre class="line after"><span class="ws">            </span>rv = self.handle_user_exception(e)</pre>
<pre class="line after"><span class="ws">        </span>return self.finalize_request(rv)</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def finalize_request(</pre></div>
</div>

<li><div class="frame" id="frame-1642375309104">
  <h4>File <cite class="filename">"A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py"</cite>,
      line <em class="line">902</em>,
      in <code class="function">dispatch_request</code></h4>
  <div class="source "><pre class="line before"><span class="ws">            </span>and req.method == &#34;OPTIONS&#34;</pre>
<pre class="line before"><span class="ws">        </span>):</pre>
<pre class="line before"><span class="ws">            </span>return self.make_default_options_response()</pre>
<pre class="line before"><span class="ws">        </span># otherwise dispatch to the handler for that endpoint</pre>
<pre class="line before"><span class="ws">        </span>view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]</pre>
<pre class="line current"><span class="ws">        </span>return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]</pre>
<pre class="line after"><span class="ws"></span> </pre>
<pre class="line after"><span class="ws">    </span>def full_dispatch_request(self) -&gt; Response:</pre>
<pre class="line after"><span class="ws">        </span>&#34;&#34;&#34;Dispatches the request and on top of that performs request</pre>
<pre class="line after"><span class="ws">        </span>pre and postprocessing as well as HTTP exception catching and</pre>
<pre class="line after"><span class="ws">        </span>error handling.</pre></div>
</div>
</ul>
  <blockquote>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</blockquote>
</div>

<div class="plain">
    <p>
      This is the Copy/Paste friendly version of the traceback.
    </p>
    <textarea cols="50" rows="10" name="code" readonly>Traceback (most recent call last):
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1514, in wsgi_app
    response = self.handle_exception(e)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File &#34;A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py&#34;, line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
</textarea>
</div>
<div class="explanation">
  The debugger caught an exception in your WSGI application.  You can now
  look at the traceback which led to the error.  <span class="nojavascript">
  If you enable JavaScript you can also use additional features such as code
  execution (if the evalex feature is enabled), automatic pasting of the
  exceptions and much more.</span>
</div>
      <div class="footer">
        Brought to you by <strong class="arthur">DON'T PANIC</strong>, your
        friendly Werkzeug powered traceback interpreter.
      </div>
    </div>

    <div class="pin-prompt">
      <div class="inner">
        <h3>Console Locked</h3>
        <p>
          The console is locked and needs to be unlocked by entering the PIN.
          You can find the PIN printed out on the standard output of your
          shell that runs the server.
        <form>
          <p>PIN:
            <input type=text name=pin size=14>
            <input type=submit name=btn value="Confirm Pin">
        </form>
      </div>
    </div>
  </body>
</html>

<!--

Traceback (most recent call last):
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "A:\Anaconda3\envs\flaskService\lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
TypeError: construct_response() missing 1 required positional argument: 'result'


-->

14:29:26:696 DEBUG 26916 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (11915-byte body)
14:29:26:703 ERROR 26916 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [<!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" hre... (11915 bytes)]] with root cause

feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [<!doctype html>
<html lang=en>
  <head>
    <title>TypeError: construct_response() missing 1 required positional argument: &#39;result&#39;
 // Werkzeug Debugger</title>
    <link rel="stylesheet" hre... (11915 bytes)]
	at feign.FeignException.serverErrorStatus(FeignException.java:250) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

14:30:40:312 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
14:30:40:312 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 68575
14:30:40:312 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=195935907b3
14:30:40:313 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
14:30:40:313 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
14:30:40:313 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
14:30:40:313 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (68575-byte body)
14:31:10:342 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- ERROR SocketTimeoutException: timeout (30028ms)
14:31:10:347 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] java.net.SocketTimeoutException: timeout
	at okio.SocketAsyncTimeout.newTimeoutException(JvmOkio.kt:147)
	at okio.AsyncTimeout.access$newTimeoutException(AsyncTimeout.kt:158)
	at okio.AsyncTimeout$source$1.read(AsyncTimeout.kt:337)
	at okio.RealBufferedSource.indexOf(RealBufferedSource.kt:427)
	at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.kt:320)
	at okhttp3.internal.http1.HeadersReader.readLine(HeadersReader.kt:29)
	at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:178)
	at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.kt:106)
	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:79)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95)
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source)
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40)
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.net.SocketException: Socket closed
	at java.base/sun.nio.ch.NioSocketImpl.endRead(NioSocketImpl.java:253)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:332)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at okio.InputStreamSource.read(JvmOkio.kt:94)
	at okio.AsyncTimeout$source$1.read(AsyncTimeout.kt:125)
	... 82 more

14:31:10:348 DEBUG 26916 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END ERROR
14:31:10:353 ERROR 26916 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.RetryableException: timeout executing POST http://flask-service/upload] with root cause

java.net.SocketException: Socket closed
	at java.base/sun.nio.ch.NioSocketImpl.endRead(NioSocketImpl.java:253) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:332) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) ~[na:na]
	at okio.InputStreamSource.read(JvmOkio.kt:94) ~[okio-jvm-3.2.0.jar:na]
	at okio.AsyncTimeout$source$1.read(AsyncTimeout.kt:125) ~[okio-jvm-3.2.0.jar:na]
	at okio.RealBufferedSource.indexOf(RealBufferedSource.kt:427) ~[okio-jvm-3.2.0.jar:na]
	at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.kt:320) ~[okio-jvm-3.2.0.jar:na]
	at okhttp3.internal.http1.HeadersReader.readLine(HeadersReader.kt:29) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:178) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.kt:106) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:79) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.3.jar:na]
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180) ~[feign-okhttp-11.10.jar:na]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

14:31:15:938  WARN 26916 --- [Thread-15] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
14:31:15:938  WARN 26916 --- [Thread-15] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
14:31:15:940  WARN 26916 --- [Thread-18] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
14:31:15:948  WARN 26916 --- [Thread-18] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
14:31:16:109  INFO 26916 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
14:31:16:139  INFO 26916 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
14:31:16:163  INFO 26916 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
14:31:16:473  INFO 26916 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
15:11:18:897  INFO 6900 --- [main] c.l.his_service.HisServiceApplication    : Starting HisServiceApplication using Java 17.0.11 on luo with PID 6900 (A:\Desktop\workspace\HIS\his_service\target\classes started by 22407 in A:\Desktop\workspace\HIS)
15:11:18:900 DEBUG 6900 --- [main] c.l.his_service.HisServiceApplication    : Running with Spring Boot v2.7.12, Spring v5.3.27
15:11:18:901  INFO 6900 --- [main] c.l.his_service.HisServiceApplication    : The following 1 profile is active: "dev"
15:11:21:562 DEBUG 6900 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskAiDoctorClient.class]
15:11:21:573 DEBUG 6900 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskModelAnalyzeClient.class]
15:11:21:587 DEBUG 6900 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskUploadClient.class]
15:11:22:453  INFO 6900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
15:11:22:461  INFO 6900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:11:22:573  INFO 6900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
15:11:23:150  INFO 6900 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1bd65d18-cf79-37b5-847a-b41514e0c705
15:11:25:492  INFO 6900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
15:11:25:523  INFO 6900 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
15:11:25:524  INFO 6900 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
15:11:25:778  INFO 6900 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
15:11:25:778  INFO 6900 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6759 ms
15:11:26:611  INFO 6900 --- [main] org.redisson.Version                     : Redisson 3.17.7
15:11:27:405  INFO 6900 --- [redisson-netty-2-9] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 111.230.32.147/111.230.32.147:9631
15:11:28:097  INFO 6900 --- [redisson-netty-2-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 111.230.32.147/111.230.32.147:9631
15:11:28:712 DEBUG 6900 --- [main] c.l.h.filter.RefreshTokenFilter          : Filter 'refreshTokenFilter' configured for use
15:11:30:061  INFO 6900 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'flask-service' URL not provided. Will try picking an instance via load-balancing.
15:11:30:644  INFO 6900 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'ai-doctor-service' URL not provided. Will try picking an instance via load-balancing.
15:11:32:685  WARN 6900 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
15:11:32:690  INFO 6900 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
15:11:32:805  INFO 6900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
15:11:32:865  INFO 6900 --- [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
15:11:32:865  INFO 6900 --- [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
15:11:34:669  INFO 6900 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
15:11:34:670  INFO 6900 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
15:11:34:671  INFO 6900 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
15:11:34:672  INFO 6900 --- [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
15:11:34:766  INFO 6900 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP his-service 10.21.93.70:8848 register finished
15:11:35:074  INFO 6900 --- [main] c.l.his_service.HisServiceApplication    : Started HisServiceApplication in 17.751 seconds (JVM running for 25.782)
15:13:33:343  INFO 6900 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
15:13:33:343  INFO 6900 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
15:13:33:346  INFO 6900 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
15:14:14:307 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:14:14:307 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 169
15:14:14:307 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=1959380ea9a
15:14:14:307 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
15:14:14:307 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:14:14:307 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:14:14:307 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (169-byte body)
15:14:16:700 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- ERROR ConnectException: Failed to connect to /10.21.93.70:5000 (2392ms)
15:14:16:702 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] java.net.ConnectException: Failed to connect to /10.21.93.70:5000
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95)
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source)
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40)
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 80 more

15:14:16:702 DEBUG 6900 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END ERROR
15:14:16:723 ERROR 6900 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.RetryableException: Failed to connect to /10.21.93.70:5000 executing POST http://flask-service/upload] with root cause

java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.3.jar:na]
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180) ~[feign-okhttp-11.10.jar:na]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

15:14:32:783  WARN 6900 --- [Thread-15] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
15:14:32:784  WARN 6900 --- [Thread-18] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
15:14:32:784  WARN 6900 --- [Thread-15] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
15:14:32:784  WARN 6900 --- [Thread-18] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
15:14:32:844  INFO 6900 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
15:14:32:881  INFO 6900 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
15:14:37:603  INFO 38836 --- [main] c.l.his_service.HisServiceApplication    : Starting HisServiceApplication using Java 17.0.11 on luo with PID 38836 (A:\Desktop\workspace\HIS\his_service\target\classes started by 22407 in A:\Desktop\workspace\HIS)
15:14:37:604 DEBUG 38836 --- [main] c.l.his_service.HisServiceApplication    : Running with Spring Boot v2.7.12, Spring v5.3.27
15:14:37:605  INFO 38836 --- [main] c.l.his_service.HisServiceApplication    : The following 1 profile is active: "dev"
15:14:38:421 DEBUG 38836 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskAiDoctorClient.class]
15:14:38:422 DEBUG 38836 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskModelAnalyzeClient.class]
15:14:38:423 DEBUG 38836 --- [main] o.s.c.openfeign.FeignClientsRegistrar$1  : Identified candidate component class: file [A:\Desktop\workspace\HIS\his_api\target\classes\com\luojiawei\api\client\FlaskUploadClient.class]
15:14:38:763  INFO 38836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
15:14:38:766  INFO 38836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:14:38:798  INFO 38836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
15:14:39:083  INFO 38836 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1bd65d18-cf79-37b5-847a-b41514e0c705
15:14:39:729  INFO 38836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
15:14:39:740  INFO 38836 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
15:14:39:740  INFO 38836 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
15:14:39:891  INFO 38836 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
15:14:39:891  INFO 38836 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2233 ms
15:14:40:311  INFO 38836 --- [main] org.redisson.Version                     : Redisson 3.17.7
15:14:40:719  INFO 38836 --- [redisson-netty-2-9] o.r.c.pool.MasterPubSubConnectionPool    : 1 connections initialized for 111.230.32.147/111.230.32.147:9631
15:14:41:419  INFO 38836 --- [redisson-netty-2-19] o.r.c.pool.MasterConnectionPool          : 24 connections initialized for 111.230.32.147/111.230.32.147:9631
15:14:41:728 DEBUG 38836 --- [main] c.l.h.filter.RefreshTokenFilter          : Filter 'refreshTokenFilter' configured for use
15:14:42:506  INFO 38836 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'flask-service' URL not provided. Will try picking an instance via load-balancing.
15:14:42:774  INFO 38836 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'ai-doctor-service' URL not provided. Will try picking an instance via load-balancing.
15:14:44:179  WARN 38836 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
15:14:44:185  INFO 38836 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
15:14:44:278  INFO 38836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
15:14:44:327  INFO 38836 --- [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
15:14:44:328  INFO 38836 --- [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
15:14:45:316  INFO 38836 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
15:14:45:317  INFO 38836 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
15:14:45:318  INFO 38836 --- [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
15:14:45:318  INFO 38836 --- [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
15:14:45:408  INFO 38836 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP his-service 10.21.93.70:8848 register finished
15:14:45:656  INFO 38836 --- [main] c.l.his_service.HisServiceApplication    : Started HisServiceApplication in 8.989 seconds (JVM running for 10.438)
15:14:46:024  INFO 38836 --- [RMI TCP Connection(1)-10.21.93.70] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
15:14:46:025  INFO 38836 --- [RMI TCP Connection(1)-10.21.93.70] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
15:14:46:028  INFO 38836 --- [RMI TCP Connection(1)-10.21.93.70] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
15:14:46:040  INFO 38836 --- [RMI TCP Connection(3)-10.21.93.70] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
15:14:46:829  INFO 38836 --- [RMI TCP Connection(3)-10.21.93.70] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
15:15:16:191 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:15:16:192 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 169
15:15:16:192 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=1959381dc4f
15:15:16:192 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
15:15:16:192 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:15:16:193 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:15:16:193 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (169-byte body)
15:15:18:690 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- ERROR ConnectException: Failed to connect to /10.21.93.70:5000 (2495ms)
15:15:18:691 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] java.net.ConnectException: Failed to connect to /10.21.93.70:5000
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57)
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95)
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source)
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40)
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 80 more

15:15:18:691 DEBUG 38836 --- [http-nio-8080-exec-2] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END ERROR
15:15:18:718 ERROR 38836 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.RetryableException: Failed to connect to /10.21.93.70:5000 executing POST http://flask-service/upload] with root cause

java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.3.jar:na]
	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.3.jar:na]
	at feign.okhttp.OkHttpClient.execute(OkHttpClient.java:180) ~[feign-okhttp-11.10.jar:na]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:57) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.LoadBalancerUtils.executeWithLoadBalancerLifecycleProcessing(LoadBalancerUtils.java:95) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at org.springframework.cloud.openfeign.loadbalancer.FeignBlockingLoadBalancerClient.execute(FeignBlockingLoadBalancerClient.java:114) ~[spring-cloud-openfeign-core-3.1.5.jar:3.1.5]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:121) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

15:17:00:701 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:17:00:702 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 169
15:17:00:702 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=1959383749d
15:17:00:702 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
15:17:00:702 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:17:00:702 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:17:00:702 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (169-byte body)
15:17:00:803 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 400 BAD REQUEST (99ms)
15:17:00:804 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:17:00:804 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 42
15:17:00:804 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
15:17:00:804 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:17:00 GMT
15:17:00:804 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:17:00:804 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:17:00:806 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {
  "error": "\u7a7a\u6587\u4ef6\u540d"
}

15:17:00:806 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (42-byte body)
15:17:00:810 ERROR 38836 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$BadRequest: [400 BAD REQUEST] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{
  "error": "\u7a7a\u6587\u4ef6\u540d"
}
]] with root cause

feign.FeignException$BadRequest: [400 BAD REQUEST] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{
  "error": "\u7a7a\u6587\u4ef6\u540d"
}
]
	at feign.FeignException.clientErrorStatus(FeignException.java:213) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:194) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

15:17:46:235 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:17:46:235 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 169
15:17:46:236 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=1959384267b
15:17:46:236 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
15:17:46:236 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:17:46:236 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:17:46:236 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (169-byte body)
15:17:46:247 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 400 BAD REQUEST (11ms)
15:17:46:247 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:17:46:247 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 42
15:17:46:248 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
15:17:46:248 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:17:46 GMT
15:17:46:248 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:17:46:248 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:17:46:248 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {
  "error": "\u7a7a\u6587\u4ef6\u540d"
}

15:17:46:249 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (42-byte body)
15:17:46:252 ERROR 38836 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$BadRequest: [400 BAD REQUEST] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{
  "error": "\u7a7a\u6587\u4ef6\u540d"
}
]] with root cause

feign.FeignException$BadRequest: [400 BAD REQUEST] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{
  "error": "\u7a7a\u6587\u4ef6\u540d"
}
]
	at feign.FeignException.clientErrorStatus(FeignException.java:213) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:194) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

15:19:27:811 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:19:27:811 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 169
15:19:27:811 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=1959385b343
15:19:27:811 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] X-API-Key: 123456
15:19:27:811 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:19:27:811 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:19:27:811 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (169-byte body)
15:19:27:818 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 400 BAD REQUEST (6ms)
15:19:27:818 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:19:27:818 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 42
15:19:27:818 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
15:19:27:818 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:19:27 GMT
15:19:27:818 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:19:27:818 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:19:27:819 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {
  "error": "\u7a7a\u6587\u4ef6\u540d"
}

15:19:27:819 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (42-byte body)
15:19:27:821 ERROR 38836 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$BadRequest: [400 BAD REQUEST] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{
  "error": "\u7a7a\u6587\u4ef6\u540d"
}
]] with root cause

feign.FeignException$BadRequest: [400 BAD REQUEST] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{
  "error": "\u7a7a\u6587\u4ef6\u540d"
}
]
	at feign.FeignException.clientErrorStatus(FeignException.java:213) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:194) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

15:20:14:556 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:20:14:556 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 169
15:20:14:556 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=195938669dc
15:20:14:556 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:20:14:556 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:20:14:557 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (169-byte body)
15:20:14:565 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 400 BAD REQUEST (8ms)
15:20:14:566 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:20:14:566 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 42
15:20:14:566 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
15:20:14:566 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:20:14 GMT
15:20:14:566 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:20:14:566 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:20:14:567 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {
  "error": "\u7a7a\u6587\u4ef6\u540d"
}

15:20:14:567 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (42-byte body)
15:20:14:570 ERROR 38836 --- [http-nio-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$BadRequest: [400 BAD REQUEST] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{
  "error": "\u7a7a\u6587\u4ef6\u540d"
}
]] with root cause

feign.FeignException$BadRequest: [400 BAD REQUEST] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{
  "error": "\u7a7a\u6587\u4ef6\u540d"
}
]
	at feign.FeignException.clientErrorStatus(FeignException.java:213) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:194) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

15:21:05:398 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:21:05:398 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
15:21:05:398 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593873075
15:21:05:398 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:21:05:398 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:21:05:398 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
15:21:05:856 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (458ms)
15:21:05:857 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:21:05:857 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 266
15:21:05:857 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: text/html; charset=utf-8
15:21:05:857 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:21:05 GMT
15:21:05:857 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:21:05:857 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:21:05:857 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"status": "success", "result": {"disease_labels": ["\u767d\u5185\u969c", "\u7cd6\u5c3f\u75c5\u89c6\u7f51\u819c\u75c5\u53d8", "\u9752\u5149\u773c", "\u6b63\u5e38"], "pred_probs": [0.028514173188574212, 0.9193432390172322, 0.021607613030773118, 0.03053497476342042]}}
15:21:05:857 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (266-byte body)
15:28:10:183 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:28:10:183 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
15:28:10:183 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=195938dabc5
15:28:10:183 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:28:10:183 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:28:10:183 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
15:28:11:724 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 500 INTERNAL SERVER ERROR (1540ms)
15:28:11:725 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:28:11:725 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 107
15:28:11:725 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: text/html; charset=utf-8
15:28:11:725 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:28:11 GMT
15:28:11:725 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:28:11:725 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:28:11:725 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"status": "error", "message": "Failed to construct response: Object of type set is not JSON serializable"}
15:28:11:725 DEBUG 38836 --- [http-nio-8080-exec-5] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (107-byte body)
15:28:11:729 ERROR 38836 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{"status": "error", "message": "Failed to construct response: Object of type set is not JSON serializable"}]] with root cause

feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{"status": "error", "message": "Failed to construct response: Object of type set is not JSON serializable"}]
	at feign.FeignException.serverErrorStatus(FeignException.java:250) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

15:28:22:020 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:28:22:022 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
15:28:22:022 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=195938dda00
15:28:22:022 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:28:22:022 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:28:22:022 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
15:28:22:575 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 500 INTERNAL SERVER ERROR (552ms)
15:28:22:575 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:28:22:575 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 107
15:28:22:575 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: text/html; charset=utf-8
15:28:22:575 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:28:22 GMT
15:28:22:575 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:28:22:575 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:28:22:576 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"status": "error", "message": "Failed to construct response: Object of type set is not JSON serializable"}
15:28:22:576 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (107-byte body)
15:28:22:580 ERROR 38836 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{"status": "error", "message": "Failed to construct response: Object of type set is not JSON serializable"}]] with root cause

feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{"status": "error", "message": "Failed to construct response: Object of type set is not JSON serializable"}]
	at feign.FeignException.serverErrorStatus(FeignException.java:250) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

15:31:37:857 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:31:37:858 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
15:31:37:858 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=1959390d6ff
15:31:37:858 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:31:37:858 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:31:37:858 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
15:31:39:020 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (1161ms)
15:31:39:020 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:31:39:020 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 431
15:31:39:020 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: text/html; charset=utf-8
15:31:39:020 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:31:39 GMT
15:31:39:020 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:31:39:020 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:31:39:021 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code": 200, "status": "success", "message": "\u5904\u7406\u6210\u529f", "predicted_disease": "\u7cd6\u5c3f\u75c5\u89c6\u7f51\u819c\u75c5\u53d8", "pred_probs": 0.9193432390172322, "all_diseases": {"disease_labels": ["\u767d\u5185\u969c", "\u7cd6\u5c3f\u75c5\u89c6\u7f51\u819c\u75c5\u53d8", "\u9752\u5149\u773c", "\u6b63\u5e38"], "pred_probs": [0.028514173188574212, 0.9193432390172322, 0.021607613030773118, 0.03053497476342042]}}
15:31:39:021 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (431-byte body)
15:50:08:900 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
15:50:08:902 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
15:50:08:902 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593a1cb01
15:50:08:902 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:50:08:903 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
15:50:08:903 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
15:50:14:396 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 500 INTERNAL SERVER ERROR (5493ms)
15:50:14:396 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] connection: close
15:50:14:396 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 114
15:50:14:396 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: text/html; charset=utf-8
15:50:14:396 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 07:50:14 GMT
15:50:14:396 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: Werkzeug/3.1.3 Python/3.10.16
15:50:14:396 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
15:50:14:397 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"status": "error", "message": "Failed to construct response: format() argument 2 must be str, not numpy.float64"}
15:50:14:398 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (114-byte body)
15:50:14:405 ERROR 38836 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{"status": "error", "message": "Failed to construct response: format() argument 2 must be str, not numpy.float64"}]] with root cause

feign.FeignException$InternalServerError: [500 INTERNAL SERVER ERROR] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [{"status": "error", "message": "Failed to construct response: format() argument 2 must be str, not numpy.float64"}]
	at feign.FeignException.serverErrorStatus(FeignException.java:250) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

16:12:08:190  WARN 38836 --- [http-nio-8080-exec-3] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [145] milliseconds.
16:12:09:146  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@510b09f1 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:182  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4e715d26 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:216  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@75d71983 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:246  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7c1ad249 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:280  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4e7a891c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:310  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@aa66598 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:341  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@47706e4e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:374  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6dd27473 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:406  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@77fa22bc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:441  WARN 38836 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4ec9037e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
16:12:09:457 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.h.m.PatientMapper.selectIdByOpenId   : ==>  Preparing: select id, open_id, phone, name, verified, hospital_pid from patient where open_id = ?
16:12:09:572 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.h.m.PatientMapper.selectIdByOpenId   : ==> Parameters: owhoa7fITbB2gA1N4dxwWmjN8Xsw(String)
16:12:09:732 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.h.m.PatientMapper.selectIdByOpenId   : <==      Total: 1
16:12:20:562 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:12:20:562 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
16:12:20:562 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593b61cce
16:12:20:562 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:20:562 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:12:20:563 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
16:12:20:963 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (399ms)
16:12:20:963 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 492
16:12:20:963 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:12:20:963 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:12:19 GMT
16:12:20:963 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:12:20:963 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:20:963 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9193432390172322},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.028514173188574212,0.9193432390172322,0.021607613030773118,0.03053497476342042],"formatted_results":["\"白内障\": \"0.028514\"","\"糖尿病视网膜病变\": \"0.919343\"","\"青光眼\": \"0.021608\"","\"正常\": \"0.030535\""]}}
16:12:20:964 DEBUG 38836 --- [http-nio-8080-exec-4] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (492-byte body)
16:12:25:163 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:12:25:163 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
16:12:25:163 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593b62ec7
16:12:25:163 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:25:164 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:12:25:164 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
16:12:25:565 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (401ms)
16:12:25:566 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 492
16:12:25:566 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:12:25:566 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:12:24 GMT
16:12:25:566 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:12:25:566 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:25:566 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9193432390172322},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.028514173188574212,0.9193432390172322,0.021607613030773118,0.03053497476342042],"formatted_results":["\"白内障\": \"0.028514\"","\"糖尿病视网膜病变\": \"0.919343\"","\"青光眼\": \"0.021608\"","\"正常\": \"0.030535\""]}}
16:12:25:566 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (492-byte body)
16:12:37:658 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:12:37:658 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
16:12:37:658 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593b65f98
16:12:37:658 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:37:658 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:12:37:658 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
16:12:38:036 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (376ms)
16:12:38:036 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 492
16:12:38:037 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:12:38:037 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:12:36 GMT
16:12:38:037 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:12:38:037 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:38:037 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9193432390172322},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.028514173188574212,0.9193432390172322,0.021607613030773118,0.03053497476342042],"formatted_results":["\"白内障\": \"0.028514\"","\"糖尿病视网膜病变\": \"0.919343\"","\"青光眼\": \"0.021608\"","\"正常\": \"0.030535\""]}}
16:12:38:038 DEBUG 38836 --- [http-nio-8080-exec-6] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (492-byte body)
16:12:51:739 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:12:51:739 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
16:12:51:739 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593b69698
16:12:51:739 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:51:740 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:12:51:740 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
16:12:52:126 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (386ms)
16:12:52:126 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 492
16:12:52:126 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:12:52:127 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:12:51 GMT
16:12:52:127 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:12:52:127 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:52:127 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9193432390172322},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.028514173188574212,0.9193432390172322,0.021607613030773118,0.03053497476342042],"formatted_results":["\"白内障\": \"0.028514\"","\"糖尿病视网膜病变\": \"0.919343\"","\"青光眼\": \"0.021608\"","\"正常\": \"0.030535\""]}}
16:12:52:127 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (492-byte body)
16:12:54:685 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:12:54:686 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 65567
16:12:54:686 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593b6a21c
16:12:54:686 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:54:686 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:12:54:686 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (65567-byte body)
16:12:55:064 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (378ms)
16:12:55:064 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 492
16:12:55:064 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:12:55:064 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:12:54 GMT
16:12:55:064 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:12:55:064 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:12:55:065 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9193432390172322},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.028514173188574212,0.9193432390172322,0.021607613030773118,0.03053497476342042],"formatted_results":["\"白内障\": \"0.028514\"","\"糖尿病视网膜病变\": \"0.919343\"","\"青光眼\": \"0.021608\"","\"正常\": \"0.030535\""]}}
16:12:55:065 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (492-byte body)
16:13:07:105 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:13:07:106 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 67886
16:13:07:106 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593b6d2a0
16:13:07:106 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:13:07:106 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:13:07:106 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (67886-byte body)
16:13:07:515 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (409ms)
16:13:07:515 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 494
16:13:07:515 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:13:07:515 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:13:06 GMT
16:13:07:515 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:13:07:515 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:13:07:515 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9704429982316514},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.0014643956664173504,0.9704429982316514,0.012402864861312276,0.015689741240618966],"formatted_results":["\"白内障\": \"0.001464\"","\"糖尿病视网膜病变\": \"0.970443\"","\"青光眼\": \"0.012403\"","\"正常\": \"0.015690\""]}}
16:13:07:515 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (494-byte body)
16:13:14:567 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:13:14:567 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 67886
16:13:14:567 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593b6efc5
16:13:14:567 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:13:14:567 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:13:14:567 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (67886-byte body)
16:13:14:938 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (371ms)
16:13:14:938 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 494
16:13:14:938 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:13:14:939 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:13:13 GMT
16:13:14:939 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:13:14:939 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:13:14:939 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9704429982316514},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.0014643956664173504,0.9704429982316514,0.012402864861312276,0.015689741240618966],"formatted_results":["\"白内障\": \"0.001464\"","\"糖尿病视网膜病变\": \"0.970443\"","\"青光眼\": \"0.012403\"","\"正常\": \"0.015690\""]}}
16:13:14:939 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (494-byte body)
16:14:40:397 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:14:40:397 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 67886
16:14:40:398 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593b83f0b
16:14:40:398 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:14:40:398 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:14:40:398 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (67886-byte body)
16:14:41:572 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (1174ms)
16:14:41:572 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 462
16:14:41:572 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:14:41:572 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:14:40 GMT
16:14:41:572 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:14:41:572 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:14:41:573 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9704429982316514},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.0014643956664173504,0.9704429982316514,0.012402864861312276,0.015689741240618966],"formatted_results":["白内障: 0.001464","糖尿病视网膜病变: 0.970443","青光眼: 0.012403","正常: 0.015690"]}}
16:14:41:573 DEBUG 38836 --- [http-nio-8080-exec-3] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (462-byte body)
16:22:06:398 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:22:06:398 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 67886
16:22:06:398 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593bf0d3c
16:22:06:398 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:06:398 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:22:06:398 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (67886-byte body)
16:22:06:400  WARN 38836 --- [http-nio-8080-exec-7] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: flask-service
16:22:06:408  WARN 38836 --- [http-nio-8080-exec-7] .s.c.o.l.FeignBlockingLoadBalancerClient : Load balancer does not contain an instance for the service flask-service
16:22:06:409 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 503 (11ms)
16:22:06:410 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:06:410 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Load balancer does not contain an instance for the service flask-service
16:22:06:410 DEBUG 38836 --- [http-nio-8080-exec-7] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (72-byte body)
16:22:06:417 ERROR 38836 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [Load balancer does not contain an instance for the service flask-service]] with root cause

feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [Load balancer does not contain an instance for the service flask-service]
	at feign.FeignException.serverErrorStatus(FeignException.java:256) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

16:22:08:666 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:22:08:666 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 67886
16:22:08:666 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593bf1619
16:22:08:666 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:08:666 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:22:08:666 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (67886-byte body)
16:22:08:667  WARN 38836 --- [http-nio-8080-exec-8] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: flask-service
16:22:08:667  WARN 38836 --- [http-nio-8080-exec-8] .s.c.o.l.FeignBlockingLoadBalancerClient : Load balancer does not contain an instance for the service flask-service
16:22:08:667 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 503 (1ms)
16:22:08:667 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:08:667 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Load balancer does not contain an instance for the service flask-service
16:22:08:667 DEBUG 38836 --- [http-nio-8080-exec-8] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (72-byte body)
16:22:08:672 ERROR 38836 --- [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [Load balancer does not contain an instance for the service flask-service]] with root cause

feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [Load balancer does not contain an instance for the service flask-service]
	at feign.FeignException.serverErrorStatus(FeignException.java:256) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

16:22:12:689 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:22:12:690 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 67886
16:22:12:690 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593bf25d0
16:22:12:690 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:12:690 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:22:12:690 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (67886-byte body)
16:22:12:691  WARN 38836 --- [http-nio-8080-exec-9] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: flask-service
16:22:12:691  WARN 38836 --- [http-nio-8080-exec-9] .s.c.o.l.FeignBlockingLoadBalancerClient : Load balancer does not contain an instance for the service flask-service
16:22:12:691 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 503 (1ms)
16:22:12:691 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:12:691 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Load balancer does not contain an instance for the service flask-service
16:22:12:691 DEBUG 38836 --- [http-nio-8080-exec-9] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (72-byte body)
16:22:12:695 ERROR 38836 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [Load balancer does not contain an instance for the service flask-service]] with root cause

feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://flask-service/upload] [FlaskModelAnalyzeClient#uploadFile(MultipartFile,String)]: [Load balancer does not contain an instance for the service flask-service]
	at feign.FeignException.serverErrorStatus(FeignException.java:256) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.10.jar:na]
	at jdk.proxy2/jdk.proxy2.$Proxy127.uploadFile(Unknown Source) ~[na:na]
	at com.luojiawei.his_service.service.impl.UploadServiceImpl.handleFileUpload(UploadServiceImpl.java:40) ~[classes/:na]
	at com.luojiawei.his_service.controller.AiModelController.testFileUpload(AiModelController.java:40) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.75.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at com.luojiawei.his_service.filter.RefreshTokenFilter.doFilterInternal(RefreshTokenFilter.java:58) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.12.jar:2.7.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.75.jar:9.0.75]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

16:22:16:352 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:22:16:353 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 67886
16:22:16:353 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593bf341d
16:22:16:353 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:16:353 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:22:16:353 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (67886-byte body)
16:22:22:155 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (5802ms)
16:22:22:155 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 340
16:22:22:155 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:22:22:155 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:22:15 GMT
16:22:22:155 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:22:22:155 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:22:156 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9704429982316514},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.0014643956664173504,0.9704429982316514,0.012402864861312276,0.015689741240618966]}}
16:22:22:156 DEBUG 38836 --- [http-nio-8080-exec-10] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (340-byte body)
16:22:23:847 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> POST http://flask-service/upload HTTP/1.1
16:22:23:848 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Length: 67886
16:22:23:848 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Content-Type: multipart/form-data; charset=UTF-8; boundary=19593bf5166
16:22:23:848 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:23:848 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] Binary data
16:22:23:848 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] ---> END HTTP (67886-byte body)
16:22:24:199 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- HTTP/1.1 200 OK (351ms)
16:22:24:199 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-length: 340
16:22:24:199 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] content-type: application/json
16:22:24:199 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] date: Fri, 14 Mar 2025 08:22:23 GMT
16:22:24:199 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] server: uvicorn
16:22:24:199 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] 
16:22:24:199 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] {"code":200,"status":"success","message":"处理成功","result":{"predicted_disease":"糖尿病视网膜病变","pred_probs":0.9704429982316514},"all_diseases":{"disease_labels":["白内障","糖尿病视网膜病变","青光眼","正常"],"pred_probs":[0.0014643956664173504,0.9704429982316514,0.012402864861312276,0.015689741240618966]}}
16:22:24:199 DEBUG 38836 --- [http-nio-8080-exec-1] c.l.api.client.FlaskModelAnalyzeClient   : [FlaskModelAnalyzeClient#uploadFile] <--- END HTTP (340-byte body)
16:41:27:827  WARN 38836 --- [Thread-18] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
16:41:27:826  WARN 38836 --- [Thread-15] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
16:41:27:827  WARN 38836 --- [Thread-15] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
16:41:27:843  WARN 38836 --- [Thread-18] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
16:41:28:003  INFO 38836 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
16:41:28:049  INFO 38836 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
16:41:28:156  INFO 38836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
16:41:28:193  INFO 38836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
